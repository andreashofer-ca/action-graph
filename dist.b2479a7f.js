function y(d){return d&&d.__esModule?d.default:d}function Le(d){Object.defineProperty(d,"__esModule",{value:!0,configurable:!0})}function k(d,X,m,e){Object.defineProperty(d,X,{get:m,set:e,enumerable:!0,configurable:!0})}var ye=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{},I=ye.parcelRequire11ea,Ve=I.register;Ve("eJpza",function(d,X){Le(d.exports),k(d.exports,"DiffEditor",function(){return ve}),k(d.exports,"useMonaco",function(){return Me}),k(d.exports,"Editor",function(){return K}),k(d.exports,"default",function(){return me}),k(d.exports,"loader",function(){return I("6c0Pt").default});var m=I("6c0Pt"),e=I("gGL7e"),te={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},U=te,ne={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},ae=ne;function ue({children:r}){return y(e).createElement("div",{style:ae.container},r)}var ce=ue,ie=ce;function oe({width:r,height:n,isEditorReady:u,loading:t,_ref:p,className:g,wrapperProps:M}){return y(e).createElement("section",{style:{...U.wrapper,width:r,height:n},...M},!u&&y(e).createElement(ie,null,t),y(e).createElement("div",{ref:p,style:{...U.fullWidth,...!u&&U.hide},className:g}))}var le=oe,Y=(0,e.memo)(le);function fe(r){(0,e.useEffect)(r,[])}var j=fe;function de(r,n,u=!0){let t=(0,e.useRef)(!0);(0,e.useEffect)(t.current||!u?()=>{t.current=!1}:r,n)}var h=de;function V(){}function x(r,n,u,t){return se(r,t)||$e(r,n,u,t)}function se(r,n){return r.editor.getModel(Z(r,n))}function $e(r,n,u,t){return r.editor.createModel(n,u,t?Z(r,t):void 0)}function Z(r,n){return r.Uri.parse(n)}function pe({original:r,modified:n,language:u,originalLanguage:t,modifiedLanguage:p,originalModelPath:g,modifiedModelPath:M,keepCurrentOriginalModel:E=!1,keepCurrentModifiedModel:z=!1,theme:R="light",loading:D="Loading...",options:w={},height:F="100%",width:G="100%",className:q,wrapperProps:H={},beforeMount:J=V,onMount:W=V}){let[v,P]=(0,e.useState)(!1),[S,o]=(0,e.useState)(!0),l=(0,e.useRef)(null),i=(0,e.useRef)(null),C=(0,e.useRef)(null),s=(0,e.useRef)(W),a=(0,e.useRef)(J),L=(0,e.useRef)(!1);j(()=>{let c=m.default.init();return c.then(f=>(i.current=f)&&o(!1)).catch(f=>f?.type!=="cancelation"&&console.error("Monaco initialization: error:",f)),()=>l.current?O():c.cancel()}),h(()=>{if(l.current&&i.current){let c=l.current.getOriginalEditor(),f=x(i.current,r||"",t||u||"text",g||"");f!==c.getModel()&&c.setModel(f)}},[g],v),h(()=>{if(l.current&&i.current){let c=l.current.getModifiedEditor(),f=x(i.current,n||"",p||u||"text",M||"");f!==c.getModel()&&c.setModel(f)}},[M],v),h(()=>{let c=l.current.getModifiedEditor();c.getOption(i.current.editor.EditorOption.readOnly)?c.setValue(n||""):n!==c.getValue()&&(c.executeEdits("",[{range:c.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),c.pushUndoStop())},[n],v),h(()=>{l.current?.getModel()?.original.setValue(r||"")},[r],v),h(()=>{let{original:c,modified:f}=l.current.getModel();i.current.editor.setModelLanguage(c,t||u||"text"),i.current.editor.setModelLanguage(f,p||u||"text")},[u,t,p],v),h(()=>{i.current?.editor.setTheme(R)},[R],v),h(()=>{l.current?.updateOptions(w)},[w],v);let N=(0,e.useCallback)(()=>{if(!i.current)return;a.current(i.current);let c=x(i.current,r||"",t||u||"text",g||""),f=x(i.current,n||"",p||u||"text",M||"");l.current?.setModel({original:c,modified:f})},[u,n,p,r,t,g,M]),T=(0,e.useCallback)(()=>{!L.current&&C.current&&(l.current=i.current.editor.createDiffEditor(C.current,{automaticLayout:!0,...w}),N(),i.current?.editor.setTheme(R),P(!0),L.current=!0)},[w,R,N]);(0,e.useEffect)(()=>{v&&s.current(l.current,i.current)},[v]),(0,e.useEffect)(()=>{!S&&!v&&T()},[S,v,T]);function O(){let c=l.current?.getModel();E||c?.original?.dispose(),z||c?.modified?.dispose(),l.current?.dispose()}return y(e).createElement(Y,{width:G,height:F,isEditorReady:v,loading:D,_ref:C,className:q,wrapperProps:H})}var ge=pe,ve=(0,e.memo)(ge);function he(){let[r,n]=(0,e.useState)(m.default.__getMonacoInstance());return j(()=>{let u;return r||(u=m.default.init(),u.then(t=>{n(t)})),()=>u?.cancel()}),r}var Me=he;function we(r){let n=(0,e.useRef)();return(0,e.useEffect)(()=>{n.current=r},[r]),n.current}var Re=we,_=new Map;function Ee({defaultValue:r,defaultLanguage:n,defaultPath:u,value:t,language:p,path:g,theme:M="light",line:E,loading:z="Loading...",options:R={},overrideServices:D={},saveViewState:w=!0,keepCurrentModel:F=!1,width:G="100%",height:q="100%",className:H,wrapperProps:J={},beforeMount:W=V,onMount:v=V,onChange:P,onValidate:S=V}){let[o,l]=(0,e.useState)(!1),[i,C]=(0,e.useState)(!0),s=(0,e.useRef)(null),a=(0,e.useRef)(null),L=(0,e.useRef)(null),N=(0,e.useRef)(v),T=(0,e.useRef)(W),O=(0,e.useRef)(),c=(0,e.useRef)(t),f=Re(g),ee=(0,e.useRef)(!1),A=(0,e.useRef)(!1);j(()=>{let $=m.default.init();return $.then(b=>(s.current=b)&&C(!1)).catch(b=>b?.type!=="cancelation"&&console.error("Monaco initialization: error:",b)),()=>a.current?xe():$.cancel()}),h(()=>{let $=x(s.current,r||t||"",n||p||"",g||u||"");$!==a.current?.getModel()&&(w&&_.set(f,a.current?.saveViewState()),a.current?.setModel($),w&&a.current?.restoreViewState(_.get(g)))},[g],o),h(()=>{a.current?.updateOptions(R)},[R],o),h(()=>{!a.current||t===void 0||(a.current.getOption(s.current.editor.EditorOption.readOnly)?a.current.setValue(t):t!==a.current.getValue()&&(A.current=!0,a.current.executeEdits("",[{range:a.current.getModel().getFullModelRange(),text:t,forceMoveMarkers:!0}]),a.current.pushUndoStop(),A.current=!1))},[t],o),h(()=>{let $=a.current?.getModel();$&&p&&s.current?.editor.setModelLanguage($,p)},[p],o),h(()=>{E!==void 0&&a.current?.revealLine(E)},[E],o),h(()=>{s.current?.editor.setTheme(M)},[M],o);let re=(0,e.useCallback)(()=>{if(!(!L.current||!s.current)&&!ee.current){T.current(s.current);let $=g||u,b=x(s.current,t||r||"",n||p||"",$||"");a.current=s.current?.editor.create(L.current,{model:b,automaticLayout:!0,...R},D),w&&a.current.restoreViewState(_.get($)),s.current.editor.setTheme(M),E!==void 0&&a.current.revealLine(E),l(!0),ee.current=!0}},[r,n,u,t,p,g,R,D,w,M,E]);(0,e.useEffect)(()=>{o&&N.current(a.current,s.current)},[o]),(0,e.useEffect)(()=>{!i&&!o&&re()},[i,o,re]),c.current=t,(0,e.useEffect)(()=>{o&&P&&(O.current?.dispose(),O.current=a.current?.onDidChangeModelContent($=>{A.current||P(a.current.getValue(),$)}))},[o,P]),(0,e.useEffect)(()=>{if(o){let $=s.current.editor.onDidChangeMarkers(b=>{let B=a.current.getModel()?.uri;if(B&&b.find(Q=>Q.path===B.path)){let Q=s.current.editor.getModelMarkers({resource:B});S?.(Q)}});return()=>{$?.dispose()}}return()=>{}},[o,S]);function xe(){O.current?.dispose(),F?w&&_.set(g,a.current.saveViewState()):a.current.getModel()?.dispose(),a.current.dispose()}return y(e).createElement(Y,{width:G,height:q,isEditorReady:o,loading:z,_ref:L,className:H,wrapperProps:J})}var be=Ee,K=(0,e.memo)(be),me=K});
