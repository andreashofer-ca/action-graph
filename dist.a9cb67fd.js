(function(){function E(f){return f&&f.__esModule?f.default:f}function te(f){Object.defineProperty(f,"__esModule",{value:!0,configurable:!0})}function L(f,Q,x,e){Object.defineProperty(f,Q,{get:x,set:e,enumerable:!0,configurable:!0})}var ne=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{},_=ne.parcelRequire11ea,ae=_.register;ae("hC6OZ",function(f,Q){te(f.exports),L(f.exports,"DiffEditor",function(){return Me}),L(f.exports,"useMonaco",function(){return Re}),L(f.exports,"Editor",function(){return K}),L(f.exports,"default",function(){return ye}),L(f.exports,"loader",function(){return _("eVumi").default});var x=_("eVumi"),e=_("bnwTv"),ue={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},U=ue,ie={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},oe=ie;function ce({children:r}){return E(e).createElement("div",{style:oe.container},r)}var de=ce,le=de;function fe({width:r,height:n,isEditorReady:u,loading:t,_ref:p,className:g,wrapperProps:b}){return E(e).createElement("section",{style:{...U.wrapper,width:r,height:n},...b},!u&&E(e).createElement(le,null,t),E(e).createElement("div",{ref:p,style:{...U.fullWidth,...!u&&U.hide},className:g}))}var se=fe,X=(0,e.memo)(se);function $e(r){(0,e.useEffect)(r,[])}var j=$e;function pe(r,n,u=!0){let t=(0,e.useRef)(!0);(0,e.useEffect)(t.current||!u?()=>{t.current=!1}:r,n)}var h=pe;function C(){}function V(r,n,u,t){return ge(r,t)||ve(r,n,u,t)}function ge(r,n){return r.editor.getModel(Y(r,n))}function ve(r,n,u,t){return r.editor.createModel(n,u,t?Y(r,t):void 0)}function Y(r,n){return r.Uri.parse(n)}function he({original:r,modified:n,language:u,originalLanguage:t,modifiedLanguage:p,originalModelPath:g,modifiedModelPath:b,keepCurrentOriginalModel:R=!1,keepCurrentModifiedModel:F=!1,theme:w="light",loading:D="Loading...",options:M={},height:q="100%",width:z="100%",className:H,wrapperProps:W={},beforeMount:Z=C,onMount:A=C}){let[v,O]=(0,e.useState)(!1),[S,c]=(0,e.useState)(!0),d=(0,e.useRef)(null),o=(0,e.useRef)(null),k=(0,e.useRef)(null),s=(0,e.useRef)(A),a=(0,e.useRef)(Z),y=(0,e.useRef)(!1);j(()=>{let i=x.default.init();return i.then(l=>(o.current=l)&&c(!1)).catch(l=>l?.type!=="cancelation"&&console.error("Monaco initialization: error:",l)),()=>d.current?P():i.cancel()}),h(()=>{if(d.current&&o.current){let i=d.current.getOriginalEditor(),l=V(o.current,r||"",t||u||"text",g||"");l!==i.getModel()&&i.setModel(l)}},[g],v),h(()=>{if(d.current&&o.current){let i=d.current.getModifiedEditor(),l=V(o.current,n||"",p||u||"text",b||"");l!==i.getModel()&&i.setModel(l)}},[b],v),h(()=>{let i=d.current.getModifiedEditor();i.getOption(o.current.editor.EditorOption.readOnly)?i.setValue(n||""):n!==i.getValue()&&(i.executeEdits("",[{range:i.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),i.pushUndoStop())},[n],v),h(()=>{d.current?.getModel()?.original.setValue(r||"")},[r],v),h(()=>{let{original:i,modified:l}=d.current.getModel();o.current.editor.setModelLanguage(i,t||u||"text"),o.current.editor.setModelLanguage(l,p||u||"text")},[u,t,p],v),h(()=>{o.current?.editor.setTheme(w)},[w],v),h(()=>{d.current?.updateOptions(M)},[M],v);let N=(0,e.useCallback)(()=>{if(!o.current)return;a.current(o.current);let i=V(o.current,r||"",t||u||"text",g||""),l=V(o.current,n||"",p||u||"text",b||"");d.current?.setModel({original:i,modified:l})},[u,n,p,r,t,g,b]),I=(0,e.useCallback)(()=>{!y.current&&k.current&&(d.current=o.current.editor.createDiffEditor(k.current,{automaticLayout:!0,...M}),N(),o.current?.editor.setTheme(w),O(!0),y.current=!0)},[M,w,N]);(0,e.useEffect)(()=>{v&&s.current(d.current,o.current)},[v]),(0,e.useEffect)(()=>{!S&&!v&&I()},[S,v,I]);function P(){let i=d.current?.getModel();R||i?.original?.dispose(),F||i?.modified?.dispose(),d.current?.dispose()}return E(e).createElement(X,{width:z,height:q,isEditorReady:v,loading:D,_ref:k,className:H,wrapperProps:W})}var be=he,Me=(0,e.memo)(be);function we(){let[r,n]=(0,e.useState)(x.default.__getMonacoInstance());return j(()=>{let u;return r||(u=x.default.init(),u.then(t=>{n(t)})),()=>u?.cancel()}),r}var Re=we;function me(r){let n=(0,e.useRef)();return(0,e.useEffect)(()=>{n.current=r},[r]),n.current}var Ee=me,T=new Map;function xe({defaultValue:r,defaultLanguage:n,defaultPath:u,value:t,language:p,path:g,theme:b="light",line:R,loading:F="Loading...",options:w={},overrideServices:D={},saveViewState:M=!0,keepCurrentModel:q=!1,width:z="100%",height:H="100%",className:W,wrapperProps:Z={},beforeMount:A=C,onMount:v=C,onChange:O,onValidate:S=C}){let[c,d]=(0,e.useState)(!1),[o,k]=(0,e.useState)(!0),s=(0,e.useRef)(null),a=(0,e.useRef)(null),y=(0,e.useRef)(null),N=(0,e.useRef)(v),I=(0,e.useRef)(A),P=(0,e.useRef)(),i=(0,e.useRef)(t),l=Ee(g),ee=(0,e.useRef)(!1),B=(0,e.useRef)(!1);j(()=>{let $=x.default.init();return $.then(m=>(s.current=m)&&k(!1)).catch(m=>m?.type!=="cancelation"&&console.error("Monaco initialization: error:",m)),()=>a.current?Le():$.cancel()}),h(()=>{let $=V(s.current,r||t||"",n||p||"",g||u||"");$!==a.current?.getModel()&&(M&&T.set(l,a.current?.saveViewState()),a.current?.setModel($),M&&a.current?.restoreViewState(T.get(g)))},[g],c),h(()=>{a.current?.updateOptions(w)},[w],c),h(()=>{!a.current||t===void 0||(a.current.getOption(s.current.editor.EditorOption.readOnly)?a.current.setValue(t):t!==a.current.getValue()&&(B.current=!0,a.current.executeEdits("",[{range:a.current.getModel().getFullModelRange(),text:t,forceMoveMarkers:!0}]),a.current.pushUndoStop(),B.current=!1))},[t],c),h(()=>{let $=a.current?.getModel();$&&p&&s.current?.editor.setModelLanguage($,p)},[p],c),h(()=>{R!==void 0&&a.current?.revealLine(R)},[R],c),h(()=>{s.current?.editor.setTheme(b)},[b],c);let re=(0,e.useCallback)(()=>{if(!(!y.current||!s.current)&&!ee.current){I.current(s.current);let $=g||u,m=V(s.current,t||r||"",n||p||"",$||"");a.current=s.current?.editor.create(y.current,{model:m,automaticLayout:!0,...w},D),M&&a.current.restoreViewState(T.get($)),s.current.editor.setTheme(b),R!==void 0&&a.current.revealLine(R),d(!0),ee.current=!0}},[r,n,u,t,p,g,w,D,M,b,R]);(0,e.useEffect)(()=>{c&&N.current(a.current,s.current)},[c]),(0,e.useEffect)(()=>{!o&&!c&&re()},[o,c,re]),i.current=t,(0,e.useEffect)(()=>{c&&O&&(P.current?.dispose(),P.current=a.current?.onDidChangeModelContent($=>{B.current||O(a.current.getValue(),$)}))},[c,O]),(0,e.useEffect)(()=>{if(c){let $=s.current.editor.onDidChangeMarkers(m=>{let G=a.current.getModel()?.uri;if(G&&m.find(J=>J.path===G.path)){let J=s.current.editor.getModelMarkers({resource:G});S?.(J)}});return()=>{$?.dispose()}}return()=>{}},[c,S]);function Le(){P.current?.dispose(),q?M&&T.set(g,a.current.saveViewState()):a.current.getModel()?.dispose(),a.current.dispose()}return E(e).createElement(X,{width:z,height:H,isEditorReady:c,loading:F,_ref:y,className:W,wrapperProps:Z})}var Ve=xe,K=(0,e.memo)(Ve),ye=K})})();
